	define vertex attribute vmob real

MOBILITY_TENSOR 
vmob  0     0
0     vmob  0
0     0  vmob

PARAMETER lx = 50
PARAMETER ly = 200
PARAMETER z_max = 80.0
PARAMETER angle_surface = 55
PARAMETER angle_mirror = 90
PARAMETER TENS_r = 33.5e-2
PARAMETER TENS_s = -TENS_r*cos((angle_surface)*pi/180)
PARAMETER TENS_m = -TENS_r*cos((angle_mirror)*pi/180)

/*--------------------CONSTRAINTS START--------------------*/
constraint 1
formula: z = 0

constraint 11
formula: x = -lx/2

constraint 22
formula: y = -ly/2

constraint 33
formula: x = lx/2

constraint 44
formula: y = ly/2

constraint 5 nonpositive
formula: z = z_max

/*--------------------CONSTRAINTS END--------------------*/

/*--------------------VERTICES START--------------------*/
vertices
1	 -25. -100.    0.
2	-25.         -95.05263158   0.        
3	-25.         -90.10526316   0.        
4	-25.         -85.15789474   0.        
5	-25.         -80.21052632   0.        
6	-25.         -75.26315789   0.        
7	-25.         -70.31578947   0.        
8	-25.         -65.36842105   0.        
9	-25.         -60.42105263   0.        
10	-25.         -55.47368421   0.        
11	-25.         -50.52631579   0.        
12	-25.         -45.57894737   0.        
13	-25.         -40.63157895   0.        
14	-25.         -35.68421053   0.        
15	-25.         -30.73684211   0.        
16	-25.         -25.78947368   0.        
17	-25.         -20.84210526   0.        
18	-25.         -15.89473684   0.        
19	-25.         -10.94736842   0.        
20	-25.  -6.   0.
21	-25.  -5.   0.
22	-25.          -4.47368421   0.        
23	-25.          -3.94736842   0.        
24	-25.          -3.42105263   0.        
25	-25.          -2.89473684   0.        
26	-25.          -2.36842105   0.        
27	-25.          -1.84210526   0.        
28	-25.          -1.31578947   0.        
29	-25.          -0.78947368   0.        
30	-25.          -0.26315789   0.        
31	-25.           0.26315789   0.        
32	-25.           0.78947368   0.        
33	-25.           1.31578947   0.        
34	-25.           1.84210526   0.        
35	-25.           2.36842105   0.        
36	-25.           2.89473684   0.        
37	-25.           3.42105263   0.        
38	-25.           3.94736842   0.        
39	-25.           4.47368421   0.        
40	-25.   5.   0.
41	-25.   6.   0.
42	-25.          10.94736842   0.        
43	-25.          15.89473684   0.        
44	-25.          20.84210526   0.        
45	-25.          25.78947368   0.        
46	-25.          30.73684211   0.        
47	-25.          35.68421053   0.        
48	-25.          40.63157895   0.        
49	-25.          45.57894737   0.        
50	-25.          50.52631579   0.        
51	-25.          55.47368421   0.        
52	-25.          60.42105263   0.        
53	-25.          65.36842105   0.        
54	-25.          70.31578947   0.        
55	-25.          75.26315789   0.        
56	-25.          80.21052632   0.        
57	-25.          85.15789474   0.        
58	-25.          90.10526316   0.        
59	-25.          95.05263158   0.        
60	-25. 100.   0.
61	  25. -100.    0.
62	 25.         -95.05263158   0.        
63	 25.         -90.10526316   0.        
64	 25.         -85.15789474   0.        
65	 25.         -80.21052632   0.        
66	 25.         -75.26315789   0.        
67	 25.         -70.31578947   0.        
68	 25.         -65.36842105   0.        
69	 25.         -60.42105263   0.        
70	 25.         -55.47368421   0.        
71	 25.         -50.52631579   0.        
72	 25.         -45.57894737   0.        
73	 25.         -40.63157895   0.        
74	 25.         -35.68421053   0.        
75	 25.         -30.73684211   0.        
76	 25.         -25.78947368   0.        
77	 25.         -20.84210526   0.        
78	 25.         -15.89473684   0.        
79	 25.         -10.94736842   0.        
80	25. -6.  0.
81	25. -5.  0.
82	25.         -4.47368421  0.        
83	25.         -3.94736842  0.        
84	25.         -3.42105263  0.        
85	25.         -2.89473684  0.        
86	25.         -2.36842105  0.        
87	25.         -1.84210526  0.        
88	25.         -1.31578947  0.        
89	25.         -0.78947368  0.        
90	25.         -0.26315789  0.        
91	25.          0.26315789  0.        
92	25.          0.78947368  0.        
93	25.          1.31578947  0.        
94	25.          1.84210526  0.        
95	25.          2.36842105  0.        
96	25.          2.89473684  0.        
97	25.          3.42105263  0.        
98	25.          3.94736842  0.        
99	25.          4.47368421  0.        
100	25.  5.  0.
101	25.  6.  0.
102	25.         10.94736842  0.        
103	25.         15.89473684  0.        
104	25.         20.84210526  0.        
105	25.         25.78947368  0.        
106	25.         30.73684211  0.        
107	25.         35.68421053  0.        
108	25.         40.63157895  0.        
109	25.         45.57894737  0.        
110	25.         50.52631579  0.        
111	25.         55.47368421  0.        
112	25.         60.42105263  0.        
113	25.         65.36842105  0.        
114	25.         70.31578947  0.        
115	25.         75.26315789  0.        
116	25.         80.21052632  0.        
117	25.         85.15789474  0.        
118	25.         90.10526316  0.        
119	25.         95.05263158  0.        
120	 25. 100.   0.
121	 -25. -100.   80.
122	-25.         -95.05263158  80.        
123	-25.         -90.10526316  80.        
124	-25.         -85.15789474  80.        
125	-25.         -80.21052632  80.        
126	-25.         -75.26315789  80.        
127	-25.         -70.31578947  80.        
128	-25.         -65.36842105  80.        
129	-25.         -60.42105263  80.        
130	-25.         -55.47368421  80.        
131	-25.         -50.52631579  80.        
132	-25.         -45.57894737  80.        
133	-25.         -40.63157895  80.        
134	-25.         -35.68421053  80.        
135	-25.         -30.73684211  80.        
136	-25.         -25.78947368  80.        
137	-25.         -20.84210526  80.        
138	-25.         -15.89473684  80.        
139	-25.         -10.94736842  80.        
140	-25.  -6.  80.
141	-25.  -5.  80.
142	-25.          -4.47368421  78.91634483
143	-25.          -3.94736842  75.78281019
144	-25.          -3.42105263  70.93896316
145	-25.          -2.89473684  64.90970974
146	-25.          -2.36842105  58.34841309
147	-25.          -1.84210526  51.96609151
148	-25.          -1.31578947  46.45436857
149	-25.          -0.78947368  42.41052498
150	-25.          -0.26315789  40.27277393
151	-25.           0.26315789  40.27277393
152	-25.           0.78947368  42.41052498
153	-25.           1.31578947  46.45436857
154	-25.           1.84210526  51.96609151
155	-25.           2.36842105  58.34841309
156	-25.           2.89473684  64.90970974
157	-25.           3.42105263  70.93896316
158	-25.           3.94736842  75.78281019
159	-25.           4.47368421  78.91634483
160	-25.   5.  80.
161	-25.   6.  80.
162	-25.          10.94736842  80.        
163	-25.          15.89473684  80.        
164	-25.          20.84210526  80.        
165	-25.          25.78947368  80.        
166	-25.          30.73684211  80.        
167	-25.          35.68421053  80.        
168	-25.          40.63157895  80.        
169	-25.          45.57894737  80.        
170	-25.          50.52631579  80.        
171	-25.          55.47368421  80.        
172	-25.          60.42105263  80.        
173	-25.          65.36842105  80.        
174	-25.          70.31578947  80.        
175	-25.          75.26315789  80.        
176	-25.          80.21052632  80.        
177	-25.          85.15789474  80.        
178	-25.          90.10526316  80.        
179	-25.          95.05263158  80.        
180	-25. 100.  80.
181	  25. -100.   80.
182	 25.         -95.05263158  80.        
183	 25.         -90.10526316  80.        
184	 25.         -85.15789474  80.        
185	 25.         -80.21052632  80.        
186	 25.         -75.26315789  80.        
187	 25.         -70.31578947  80.        
188	 25.         -65.36842105  80.        
189	 25.         -60.42105263  80.        
190	 25.         -55.47368421  80.        
191	 25.         -50.52631579  80.        
192	 25.         -45.57894737  80.        
193	 25.         -40.63157895  80.        
194	 25.         -35.68421053  80.        
195	 25.         -30.73684211  80.        
196	 25.         -25.78947368  80.        
197	 25.         -20.84210526  80.        
198	 25.         -15.89473684  80.        
199	 25.         -10.94736842  80.        
200	25. -6. 80.
201	25. -5. 80.
202	25.         -4.47368421 78.91634483
203	25.         -3.94736842 75.78281019
204	25.         -3.42105263 70.93896316
205	25.         -2.89473684 64.90970974
206	25.         -2.36842105 58.34841309
207	25.         -1.84210526 51.96609151
208	25.         -1.31578947 46.45436857
209	25.         -0.78947368 42.41052498
210	25.         -0.26315789 40.27277393
211	25.          0.26315789 40.27277393
212	25.          0.78947368 42.41052498
213	25.          1.31578947 46.45436857
214	25.          1.84210526 51.96609151
215	25.          2.36842105 58.34841309
216	25.          2.89473684 64.90970974
217	25.          3.42105263 70.93896316
218	25.          3.94736842 75.78281019
219	25.          4.47368421 78.91634483
220	25.  5. 80.
221	25.  6. 80.
222	25.         10.94736842 80.        
223	25.         15.89473684 80.        
224	25.         20.84210526 80.        
225	25.         25.78947368 80.        
226	25.         30.73684211 80.        
227	25.         35.68421053 80.        
228	25.         40.63157895 80.        
229	25.         45.57894737 80.        
230	25.         50.52631579 80.        
231	25.         55.47368421 80.        
232	25.         60.42105263 80.        
233	25.         65.36842105 80.        
234	25.         70.31578947 80.        
235	25.         75.26315789 80.        
236	25.         80.21052632 80.        
237	25.         85.15789474 80.        
238	25.         90.10526316 80.        
239	25.         95.05263158 80.        
240	 25. 100.  80.
/*--------------------VERTICES END--------------------*/

/*--------------------EDGES START--------------------*/
edges
1	 1 61 color red
2	 2 62 color red
3	 3 63 color red
4	 4 64 color red
5	 5 65 color red
6	 6 66 color red
7	 7 67 color red
8	 8 68 color red
9	 9 69 color red
10	10 70 color red
11	11 71 color red
12	12 72 color red
13	13 73 color red
14	14 74 color red
15	15 75 color red
16	16 76 color red
17	17 77 color red
18	18 78 color red
19	19 79 color red
20	20 80 color red
21	21 81 color red
22	22 82 color red
23	23 83 color red
24	24 84 color red
25	25 85 color red
26	26 86 color red
27	27 87 color red
28	28 88 color red
29	29 89 color red
30	30 90 color red
31	31 91 color red
32	32 92 color red
33	33 93 color red
34	34 94 color red
35	35 95 color red
36	36 96 color red
37	37 97 color red
38	38 98 color red
39	39 99 color red
40	 40 100 color red
41	 41 101 color red
42	 42 102 color red
43	 43 103 color red
44	 44 104 color red
45	 45 105 color red
46	 46 106 color red
47	 47 107 color red
48	 48 108 color red
49	 49 109 color red
50	 50 110 color red
51	 51 111 color red
52	 52 112 color red
53	 53 113 color red
54	 54 114 color red
55	 55 115 color red
56	 56 116 color red
57	 57 117 color red
58	 58 118 color red
59	 59 119 color red
60	 60 120 color red
61	1 2 color red
62	2 3 color red
63	3 4 color red
64	4 5 color red
65	5 6 color red
66	6 7 color red
67	7 8 color red
68	8 9 color red
69	 9 10 color red
70	10 11 color red
71	11 12 color red
72	12 13 color red
73	13 14 color red
74	14 15 color red
75	15 16 color red
76	16 17 color red
77	17 18 color red
78	18 19 color red
79	19 20 color red
80	20 21 color red
81	21 22 color red
82	22 23 color red
83	23 24 color red
84	24 25 color red
85	25 26 color red
86	26 27 color red
87	27 28 color red
88	28 29 color red
89	29 30 color red
90	30 31 color red
91	31 32 color red
92	32 33 color red
93	33 34 color red
94	34 35 color red
95	35 36 color red
96	36 37 color red
97	37 38 color red
98	38 39 color red
99	39 40 color red
100	40 41 color red
101	41 42 color red
102	42 43 color red
103	43 44 color red
104	44 45 color red
105	45 46 color red
106	46 47 color red
107	47 48 color red
108	48 49 color red
109	49 50 color red
110	50 51 color red
111	51 52 color red
112	52 53 color red
113	53 54 color red
114	54 55 color red
115	55 56 color red
116	56 57 color red
117	57 58 color red
118	58 59 color red
119	59 60 color red
120	61 62 color red
121	62 63 color red
122	63 64 color red
123	64 65 color red
124	65 66 color red
125	66 67 color red
126	67 68 color red
127	68 69 color red
128	69 70 color red
129	70 71 color red
130	71 72 color red
131	72 73 color red
132	73 74 color red
133	74 75 color red
134	75 76 color red
135	76 77 color red
136	77 78 color red
137	78 79 color red
138	79 80 color red
139	80 81 color red
140	81 82 color red
141	82 83 color red
142	83 84 color red
143	84 85 color red
144	85 86 color red
145	86 87 color red
146	87 88 color red
147	88 89 color red
148	89 90 color red
149	90 91 color red
150	91 92 color red
151	92 93 color red
152	93 94 color red
153	94 95 color red
154	95 96 color red
155	96 97 color red
156	97 98 color red
157	98 99 color red
158	 99 100 color red
159	100 101 color red
160	101 102 color red
161	102 103 color red
162	103 104 color red
163	104 105 color red
164	105 106 color red
165	106 107 color red
166	107 108 color red
167	108 109 color red
168	109 110 color red
169	110 111 color red
170	111 112 color red
171	112 113 color red
172	113 114 color red
173	114 115 color red
174	115 116 color red
175	116 117 color red
176	117 118 color red
177	118 119 color red
178	119 120 color red
179	121 181 color red
180	122 182 color red
181	123 183 color red
182	124 184 color red
183	125 185 color red
184	126 186 color red
185	127 187 color red
186	128 188 color red
187	129 189 color red
188	130 190 color red
189	131 191 color red
190	132 192 color red
191	133 193 color red
192	134 194 color red
193	135 195 color red
194	136 196 color red
195	137 197 color red
196	138 198 color red
197	139 199 color red
198	140 200 color red
199	141 201 color red
200	142 202 color red
201	143 203 color red
202	144 204 color red
203	145 205 color red
204	146 206 color red
205	147 207 color red
206	148 208 color red
207	149 209 color red
208	150 210 color red
209	151 211 color red
210	152 212 color red
211	153 213 color red
212	154 214 color red
213	155 215 color red
214	156 216 color red
215	157 217 color red
216	158 218 color red
217	159 219 color red
218	160 220 color red
219	161 221 color red
220	162 222 color red
221	163 223 color red
222	164 224 color red
223	165 225 color red
224	166 226 color red
225	167 227 color red
226	168 228 color red
227	169 229 color red
228	170 230 color red
229	171 231 color red
230	172 232 color red
231	173 233 color red
232	174 234 color red
233	175 235 color red
234	176 236 color red
235	177 237 color red
236	178 238 color red
237	179 239 color red
238	180 240 color red
239	121 122 color red
240	122 123 color red
241	123 124 color red
242	124 125 color red
243	125 126 color red
244	126 127 color red
245	127 128 color red
246	128 129 color red
247	129 130 color red
248	130 131 color red
249	131 132 color red
250	132 133 color red
251	133 134 color red
252	134 135 color red
253	135 136 color red
254	136 137 color red
255	137 138 color red
256	138 139 color red
257	139 140 color red
258	140 141 color red
259	141 142 color red
260	142 143 color red
261	143 144 color red
262	144 145 color red
263	145 146 color red
264	146 147 color red
265	147 148 color red
266	148 149 color red
267	149 150 color red
268	150 151 color red
269	151 152 color red
270	152 153 color red
271	153 154 color red
272	154 155 color red
273	155 156 color red
274	156 157 color red
275	157 158 color red
276	158 159 color red
277	159 160 color red
278	160 161 color red
279	161 162 color red
280	162 163 color red
281	163 164 color red
282	164 165 color red
283	165 166 color red
284	166 167 color red
285	167 168 color red
286	168 169 color red
287	169 170 color red
288	170 171 color red
289	171 172 color red
290	172 173 color red
291	173 174 color red
292	174 175 color red
293	175 176 color red
294	176 177 color red
295	177 178 color red
296	178 179 color red
297	179 180 color red
298	181 182 color red
299	182 183 color red
300	183 184 color red
301	184 185 color red
302	185 186 color red
303	186 187 color red
304	187 188 color red
305	188 189 color red
306	189 190 color red
307	190 191 color red
308	191 192 color red
309	192 193 color red
310	193 194 color red
311	194 195 color red
312	195 196 color red
313	196 197 color red
314	197 198 color red
315	198 199 color red
316	199 200 color red
317	200 201 color red
318	201 202 color red
319	202 203 color red
320	203 204 color red
321	204 205 color red
322	205 206 color red
323	206 207 color red
324	207 208 color red
325	208 209 color red
326	209 210 color red
327	210 211 color red
328	211 212 color red
329	212 213 color red
330	213 214 color red
331	214 215 color red
332	215 216 color red
333	216 217 color red
334	217 218 color red
335	218 219 color red
336	219 220 color red
337	220 221 color red
338	221 222 color red
339	222 223 color red
340	223 224 color red
341	224 225 color red
342	225 226 color red
343	226 227 color red
344	227 228 color red
345	228 229 color red
346	229 230 color red
347	230 231 color red
348	231 232 color red
349	232 233 color red
350	233 234 color red
351	234 235 color red
352	235 236 color red
353	236 237 color red
354	237 238 color red
355	238 239 color red
356	239 240 color red
357	  1 121 color red
358	  2 122 color red
359	  3 123 color red
360	  4 124 color red
361	  5 125 color red
362	  6 126 color red
363	  7 127 color red
364	  8 128 color red
365	  9 129 color red
366	 10 130 color red
367	 11 131 color red
368	 12 132 color red
369	 13 133 color red
370	 14 134 color red
371	 15 135 color red
372	 16 136 color red
373	 17 137 color red
374	 18 138 color red
375	 19 139 color red
376	 20 140 color red
377	 21 141 color red
378	 22 142 color red
379	 23 143 color red
380	 24 144 color red
381	 25 145 color red
382	 26 146 color red
383	 27 147 color red
384	 28 148 color red
385	 29 149 color red
386	 30 150 color red
387	 31 151 color red
388	 32 152 color red
389	 33 153 color red
390	 34 154 color red
391	 35 155 color red
392	 36 156 color red
393	 37 157 color red
394	 38 158 color red
395	 39 159 color red
396	 40 160 color red
397	 41 161 color red
398	 42 162 color red
399	 43 163 color red
400	 44 164 color red
401	 45 165 color red
402	 46 166 color red
403	 47 167 color red
404	 48 168 color red
405	 49 169 color red
406	 50 170 color red
407	 51 171 color red
408	 52 172 color red
409	 53 173 color red
410	 54 174 color red
411	 55 175 color red
412	 56 176 color red
413	 57 177 color red
414	 58 178 color red
415	 59 179 color red
416	 60 180 color red
417	 61 181 color red
418	 62 182 color red
419	 63 183 color red
420	 64 184 color red
421	 65 185 color red
422	 66 186 color red
423	 67 187 color red
424	 68 188 color red
425	 69 189 color red
426	 70 190 color red
427	 71 191 color red
428	 72 192 color red
429	 73 193 color red
430	 74 194 color red
431	 75 195 color red
432	 76 196 color red
433	 77 197 color red
434	 78 198 color red
435	 79 199 color red
436	 80 200 color red
437	 81 201 color red
438	 82 202 color red
439	 83 203 color red
440	 84 204 color red
441	 85 205 color red
442	 86 206 color red
443	 87 207 color red
444	 88 208 color red
445	 89 209 color red
446	 90 210 color red
447	 91 211 color red
448	 92 212 color red
449	 93 213 color red
450	 94 214 color red
451	 95 215 color red
452	 96 216 color red
453	 97 217 color red
454	 98 218 color red
455	 99 219 color red
456	100 220 color red
457	101 221 color red
458	102 222 color red
459	103 223 color red
460	104 224 color red
461	105 225 color red
462	106 226 color red
463	107 227 color red
464	108 228 color red
465	109 229 color red
466	110 230 color red
467	111 231 color red
468	112 232 color red
469	113 233 color red
470	114 234 color red
471	115 235 color red
472	116 236 color red
473	117 237 color red
474	118 238 color red
475	119 239 color red
476	120 240 color red
/*--------------------EDGES END--------------------*/

/*--------------------FACES START--------------------*/
faces
1	  61    2 -120   -1
2	  62    3 -121   -2
3	  63    4 -122   -3
4	  64    5 -123   -4
5	  65    6 -124   -5
6	  66    7 -125   -6
7	  67    8 -126   -7
8	  68    9 -127   -8
9	  69   10 -128   -9
10	  70   11 -129  -10
11	  71   12 -130  -11
12	  72   13 -131  -12
13	  73   14 -132  -13
14	  74   15 -133  -14
15	  75   16 -134  -15
16	  76   17 -135  -16
17	  77   18 -136  -17
18	  78   19 -137  -18
19	  79   20 -138  -19
20	  80   21 -139  -20
21	  81   22 -140  -21
22	  82   23 -141  -22
23	  83   24 -142  -23
24	  84   25 -143  -24
25	  85   26 -144  -25
26	  86   27 -145  -26
27	  87   28 -146  -27
28	  88   29 -147  -28
29	  89   30 -148  -29
30	  90   31 -149  -30
31	  91   32 -150  -31
32	  92   33 -151  -32
33	  93   34 -152  -33
34	  94   35 -153  -34
35	  95   36 -154  -35
36	  96   37 -155  -36
37	  97   38 -156  -37
38	  98   39 -157  -38
39	  99   40 -158  -39
40	 100   41 -159  -40
41	 101   42 -160  -41
42	 102   43 -161  -42
43	 103   44 -162  -43
44	 104   45 -163  -44
45	 105   46 -164  -45
46	 106   47 -165  -46
47	 107   48 -166  -47
48	 108   49 -167  -48
49	 109   50 -168  -49
50	 110   51 -169  -50
51	 111   52 -170  -51
52	 112   53 -171  -52
53	 113   54 -172  -53
54	 114   55 -173  -54
55	 115   56 -174  -55
56	 116   57 -175  -56
57	 117   58 -176  -57
58	 118   59 -177  -58
59	 119   60 -178  -59
60	 179  298 -180 -239
61	 180  299 -181 -240
62	 181  300 -182 -241
63	 182  301 -183 -242
64	 183  302 -184 -243
65	 184  303 -185 -244
66	 185  304 -186 -245
67	 186  305 -187 -246
68	 187  306 -188 -247
69	 188  307 -189 -248
70	 189  308 -190 -249
71	 190  309 -191 -250
72	 191  310 -192 -251
73	 192  311 -193 -252
74	 193  312 -194 -253
75	 194  313 -195 -254
76	 195  314 -196 -255
77	 196  315 -197 -256
78	 197  316 -198 -257
79	 198  317 -199 -258
80	 199  318 -200 -259
81	 200  319 -201 -260
82	 201  320 -202 -261
83	 202  321 -203 -262
84	 203  322 -204 -263
85	 204  323 -205 -264
86	 205  324 -206 -265
87	 206  325 -207 -266
88	 207  326 -208 -267
89	 208  327 -209 -268
90	 209  328 -210 -269
91	 210  329 -211 -270
92	 211  330 -212 -271
93	 212  331 -213 -272
94	 213  332 -214 -273
95	 214  333 -215 -274
96	 215  334 -216 -275
97	 216  335 -217 -276
98	 217  336 -218 -277
99	 218  337 -219 -278
100	 219  338 -220 -279
101	 220  339 -221 -280
102	 221  340 -222 -281
103	 222  341 -223 -282
104	 223  342 -224 -283
105	 224  343 -225 -284
106	 225  344 -226 -285
107	 226  345 -227 -286
108	 227  346 -228 -287
109	 228  347 -229 -288
110	 229  348 -230 -289
111	 230  349 -231 -290
112	 231  350 -232 -291
113	 232  351 -233 -292
114	 233  352 -234 -293
115	 234  353 -235 -294
116	 235  354 -236 -295
117	 236  355 -237 -296
118	 237  356 -238 -297
119	   1  417 -179 -357
120	 416  238 -476  -60
121	 357  239 -358  -61
122	 358  240 -359  -62
123	 359  241 -360  -63
124	 360  242 -361  -64
125	 361  243 -362  -65
126	 362  244 -363  -66
127	 363  245 -364  -67
128	 364  246 -365  -68
129	 365  247 -366  -69
130	 366  248 -367  -70
131	 367  249 -368  -71
132	 368  250 -369  -72
133	 369  251 -370  -73
134	 370  252 -371  -74
135	 371  253 -372  -75
136	 372  254 -373  -76
137	 373  255 -374  -77
138	 374  256 -375  -78
139	 375  257 -376  -79
140	 376  258 -377  -80
141	 377  259 -378  -81
142	 378  260 -379  -82
143	 379  261 -380  -83
144	 380  262 -381  -84
145	 381  263 -382  -85
146	 382  264 -383  -86
147	 383  265 -384  -87
148	 384  266 -385  -88
149	 385  267 -386  -89
150	 386  268 -387  -90
151	 387  269 -388  -91
152	 388  270 -389  -92
153	 389  271 -390  -93
154	 390  272 -391  -94
155	 391  273 -392  -95
156	 392  274 -393  -96
157	 393  275 -394  -97
158	 394  276 -395  -98
159	 395  277 -396  -99
160	 396  278 -397 -100
161	 397  279 -398 -101
162	 398  280 -399 -102
163	 399  281 -400 -103
164	 400  282 -401 -104
165	 401  283 -402 -105
166	 402  284 -403 -106
167	 403  285 -404 -107
168	 404  286 -405 -108
169	 405  287 -406 -109
170	 406  288 -407 -110
171	 407  289 -408 -111
172	 408  290 -409 -112
173	 409  291 -410 -113
174	 410  292 -411 -114
175	 411  293 -412 -115
176	 412  294 -413 -116
177	 413  295 -414 -117
178	 414  296 -415 -118
179	 415  297 -416 -119
180	 120  418 -298 -417
181	 121  419 -299 -418
182	 122  420 -300 -419
183	 123  421 -301 -420
184	 124  422 -302 -421
185	 125  423 -303 -422
186	 126  424 -304 -423
187	 127  425 -305 -424
188	 128  426 -306 -425
189	 129  427 -307 -426
190	 130  428 -308 -427
191	 131  429 -309 -428
192	 132  430 -310 -429
193	 133  431 -311 -430
194	 134  432 -312 -431
195	 135  433 -313 -432
196	 136  434 -314 -433
197	 137  435 -315 -434
198	 138  436 -316 -435
199	 139  437 -317 -436
200	 140  438 -318 -437
201	 141  439 -319 -438
202	 142  440 -320 -439
203	 143  441 -321 -440
204	 144  442 -322 -441
205	 145  443 -323 -442
206	 146  444 -324 -443
207	 147  445 -325 -444
208	 148  446 -326 -445
209	 149  447 -327 -446
210	 150  448 -328 -447
211	 151  449 -329 -448
212	 152  450 -330 -449
213	 153  451 -331 -450
214	 154  452 -332 -451
215	 155  453 -333 -452
216	 156  454 -334 -453
217	 157  455 -335 -454
218	 158  456 -336 -455
219	 159  457 -337 -456
220	 160  458 -338 -457
221	 161  459 -339 -458
222	 162  460 -340 -459
223	 163  461 -341 -460
224	 164  462 -342 -461
225	 165  463 -343 -462
226	 166  464 -344 -463
227	 167  465 -345 -464
228	 168  466 -346 -465
229	 169  467 -347 -466
230	 170  468 -348 -467
231	 171  469 -349 -468
232	 172  470 -350 -469
233	 173  471 -351 -470
234	 174  472 -352 -471
235	 175  473 -353 -472
236	 176  474 -354 -473
237	 177  475 -355 -474
238	 178  476 -356 -475
/*--------------------FACES END--------------------*/

/*--------------------BODIES START--------------------*/
bodies
1	1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 	volume 789999.9999999999

/*--------------------BODIES END--------------------*/

/*--------------------SIMULATION START--------------------*/
read

defmob_1 := {foreach vertex vv do set vv vmob 1}

defmob_y := {
	foreach vertex vv do set vv vmob 1 + exp(5 * exp(-vv.y^2 / 30))
	}

//loopit := {g50; w 0.0005; w 0.0005; V}

set_no_refine := {
	foreach edge ee do {
		cnt := 0;
		foreach ee.vertices vv do {
			if vv.x == -lx/2 then cnt := cnt - 1;
			if vv.x == lx/2 then cnt := cnt + 1
			};
		if abs(cnt) == 2 and ee color == red and ee y != 0 then set ee no_refine
		};
		foreach edge ee do {set ee.color black};
	}

set_v_constraint_1 := {
	foreach vertex vv do {if vv.z == 0 then set vv constraint 1}
	}

set_v_constraint_5 := {
	foreach vertex vv do {if vv.z == z_max then set vv constraint 5}
	}

set_v_constraints_11_33 := {
	foreach vertex vv do {
		if vv.x = -lx/2 then set vv constraint 11;
		if vv.x = lx/2 then set vv constraint 33;
		}
	}

set_v_constraints_22_44 := {
	foreach vertex vv do {
		if vv.y = -ly/2 then set vv constraint 22;
		if vv.y = ly/2 then set vv constraint 44;
		}
	}

set_e_constraint_1 := {
	foreach edge ee do {
		cnt := 0;
		foreach ee.vertices vv do {
			if vv.z == 0 then cnt := cnt + 1
			};
		if cnt == 2 then set ee constraint 1
		};
	}

set_e_constraint_11_33 := {
	foreach edge ee do {
		cnt := 0;
		foreach ee.vertices vv do {
			if vv.x == -lx/2 then cnt := cnt - 1;
			if vv.x == lx/2 then cnt := cnt + 1
			};
		if cnt == -2 then set ee constraint 11;
		if cnt == 2 then set ee constraint 33
		};
	}

set_e_constraint_22_44 := {
	foreach edge ee do {
		cnt := 0;
		foreach ee.vertices vv do {
			if vv.y == -ly/2 then cnt := cnt - 1;
			if vv.y == ly/2 then cnt := cnt + 1
			};
		if cnt == -2 then set ee constraint 22;
		if cnt == 2 then set ee constraint 44
		};
	}

set_f_tension_resist := {foreach facet ff do {set ff tension TENS_r}}

set_f_tension_surface := {
	foreach facet ff do {
		cnt := 0;
		foreach ff.vertices vv do {
			if vv.z == 0 then cnt := cnt + 1
			};
		if cnt == 3 then set ff tension TENS_s
		}
	}

set_f_tension_mirror := {
	foreach facet ff do {
		cnt := 0;
		foreach ff.vertices vv do {
			if vv.x == -lx/2 then cnt := cnt - 1;
			if vv.x == lx/2 then cnt := cnt + 1
			};
		if abs(cnt) == 3 then set ff tension TENS_m;
		};
	foreach facet ff do {
		cnt := 0;
		foreach ff.vertices vv do {
			if vv.y == -ly/2 then cnt := cnt - 1;
			if vv.y == ly/2 then cnt := cnt + 1
			};
		if abs(cnt) == 3 then set ff tension TENS_m;
		}
	}

color_TENS_m_faces := {set facet color brown where tension == TENS_m}

color_TENS_s_faces := {set facet color cyan where tension == TENS_s}

color_TENS_r_faces := {set facet color yellow where tension == TENS_r}

prepare_save := {
	printf "" >>> "/Users/fedor/PycharmProjects/MC_simulation/notebooks/SE/vlist.txt";
	}

prepare_surface := {
	set_no_refine;
	set_v_constraint_1;
	set_v_constraints_11_33;
	set_v_constraints_22_44;
	set_e_constraint_1;
	set_e_constraint_11_33;
	set_e_constraint_22_44;
	set_f_tension_resist;
	set_f_tension_surface;
	set_f_tension_mirror;
	color_TENS_m_faces;
	color_TENS_s_faces;
	color_TENS_r_faces;
	area_normalization;
	defmob_1;
	prepare_save
	}

loopit := {g10; w 0.01; w 0.01; V}

save := {
	foreach vertex do {
		if x < lx/2 then if x > -lx/2 then printf "%f %f %f\n", x, y, z >> "/Users/fedor/PycharmProjects/MC_simulation/notebooks/SE/vlist.txt";
		}
	}

ebash := {
	prepare_surface;
	m 0.0001;
	cnt := 0;
	save;
	printf "%f %f %f\n", total_time, -100., -100. >> "vlist.txt";
	while cnt < 1000 do {
		loopit 5;
		save;
		printf "%f %f %f\n", total_time, -100., -100. >> "vlist.txt";
		cnt := cnt + 1;
		print cnt;
		};
	}
