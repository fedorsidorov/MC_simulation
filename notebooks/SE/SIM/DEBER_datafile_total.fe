define vertex attribute vmob real

MOBILITY_TENSOR
vmob  0     0
0     vmob  0
0     0  vmob

PARAMETER lx = 0.2
PARAMETER ly = 3.3
PARAMETER z_max = 0.07825325880550525
PARAMETER angle_surface = 55
PARAMETER angle_mirror = 90
PARAMETER TENS_r = 33.5e-2
PARAMETER TENS_s = -TENS_r*cos((angle_surface)*pi/180)
PARAMETER TENS_m = -TENS_r*cos((angle_mirror)*pi/180)

/*--------------------CONSTRAINTS START--------------------*/
constraint 1
formula: z = 0

constraint 11
formula: x = -lx/2

constraint 22
formula: y = -ly/2

constraint 33
formula: x = lx/2

constraint 44
formula: y = ly/2

constraint 5 nonpositive
formula: z = z_max

/*--------------------CONSTRAINTS END--------------------*/

/*--------------------VERTICES START--------------------*/
vertices
1	-0.1  -1.65  0.  	 vmob 0.0
2	-0.1 -1.6  0. 	 vmob 0.0
3	-0.1  -1.55  0.  	 vmob 0.0
4	-0.1 -1.5  0. 	 vmob 0.0
5	-0.1  -1.45  0.  	 vmob 0.0
6	-0.1 -1.4  0. 	 vmob 0.0
7	-0.1  -1.35  0.  	 vmob 0.0
8	-0.1 -1.3  0. 	 vmob 0.0
9	-0.1  -1.25  0.  	 vmob 0.0
10	-0.1 -1.2  0. 	 vmob 0.0
11	-0.1  -1.15  0.  	 vmob 0.0
12	-0.1 -1.1  0. 	 vmob 0.0
13	-0.1  -1.05  0.  	 vmob 0.0
14	-0.1 -1.   0. 	 vmob 0.0
15	-0.1  -0.95  0.  	 vmob 0.0
16	-0.1 -0.9  0. 	 vmob 0.0
17	-0.1  -0.85  0.  	 vmob 0.0
18	-0.1 -0.8  0. 	 vmob 0.0
19	-0.1  -0.75  0.  	 vmob 0.0
20	-0.1 -0.7  0. 	 vmob 0.0
21	-0.1  -0.65  0.  	 vmob 0.0
22	-0.1 -0.6  0. 	 vmob 0.0
23	-0.1  -0.55  0.  	 vmob 0.0
24	-0.1 -0.5  0. 	 vmob 0.0
25	-0.1  -0.45  0.  	 vmob 0.0
26	-0.1 -0.4  0. 	 vmob 0.0
27	-0.1  -0.35  0.  	 vmob 0.0
28	-0.1 -0.3  0. 	 vmob 0.0
29	-0.1  -0.25  0.  	 vmob 0.0
30	-0.1 -0.2  0. 	 vmob 0.0
31	-0.1  -0.15  0.  	 vmob 0.0
32	-0.1 -0.1  0. 	 vmob 0.0
33	-0.1  -0.05  0.  	 vmob 0.0
34	-0.1  0.   0. 	 vmob 0.0
35	-0.1   0.05  0.  	 vmob 0.0
36	-0.1  0.1  0. 	 vmob 0.0
37	-0.1   0.15  0.  	 vmob 0.0
38	-0.1  0.2  0. 	 vmob 0.0
39	-0.1   0.25  0.  	 vmob 0.0
40	-0.1  0.3  0. 	 vmob 0.0
41	-0.1   0.35  0.  	 vmob 0.0
42	-0.1  0.4  0. 	 vmob 0.0
43	-0.1   0.45  0.  	 vmob 0.0
44	-0.1  0.5  0. 	 vmob 0.0
45	-0.1   0.55  0.  	 vmob 0.0
46	-0.1  0.6  0. 	 vmob 0.0
47	-0.1   0.65  0.  	 vmob 0.0
48	-0.1  0.7  0. 	 vmob 0.0
49	-0.1   0.75  0.  	 vmob 0.0
50	-0.1  0.8  0. 	 vmob 0.0
51	-0.1   0.85  0.  	 vmob 0.0
52	-0.1  0.9  0. 	 vmob 0.0
53	-0.1   0.95  0.  	 vmob 0.0
54	-0.1  1.   0. 	 vmob 0.0
55	-0.1   1.05  0.  	 vmob 0.0
56	-0.1  1.1  0. 	 vmob 0.0
57	-0.1   1.15  0.  	 vmob 0.0
58	-0.1  1.2  0. 	 vmob 0.0
59	-0.1   1.25  0.  	 vmob 0.0
60	-0.1  1.3  0. 	 vmob 0.0
61	-0.1   1.35  0.  	 vmob 0.0
62	-0.1  1.4  0. 	 vmob 0.0
63	-0.1   1.45  0.  	 vmob 0.0
64	-0.1  1.5  0. 	 vmob 0.0
65	-0.1   1.55  0.  	 vmob 0.0
66	-0.1  1.6  0. 	 vmob 0.0
67	-0.1   1.65  0.  	 vmob 0.0
68	 0.1  -1.65  0.  	 vmob 0.0
69	 0.1 -1.6  0. 	 vmob 0.0
70	 0.1  -1.55  0.  	 vmob 0.0
71	 0.1 -1.5  0. 	 vmob 0.0
72	 0.1  -1.45  0.  	 vmob 0.0
73	 0.1 -1.4  0. 	 vmob 0.0
74	 0.1  -1.35  0.  	 vmob 0.0
75	 0.1 -1.3  0. 	 vmob 0.0
76	 0.1  -1.25  0.  	 vmob 0.0
77	 0.1 -1.2  0. 	 vmob 0.0
78	 0.1  -1.15  0.  	 vmob 0.0
79	 0.1 -1.1  0. 	 vmob 0.0
80	 0.1  -1.05  0.  	 vmob 0.0
81	 0.1 -1.   0. 	 vmob 0.0
82	 0.1  -0.95  0.  	 vmob 0.0
83	 0.1 -0.9  0. 	 vmob 0.0
84	 0.1  -0.85  0.  	 vmob 0.0
85	 0.1 -0.8  0. 	 vmob 0.0
86	 0.1  -0.75  0.  	 vmob 0.0
87	 0.1 -0.7  0. 	 vmob 0.0
88	 0.1  -0.65  0.  	 vmob 0.0
89	 0.1 -0.6  0. 	 vmob 0.0
90	 0.1  -0.55  0.  	 vmob 0.0
91	 0.1 -0.5  0. 	 vmob 0.0
92	 0.1  -0.45  0.  	 vmob 0.0
93	 0.1 -0.4  0. 	 vmob 0.0
94	 0.1  -0.35  0.  	 vmob 0.0
95	 0.1 -0.3  0. 	 vmob 0.0
96	 0.1  -0.25  0.  	 vmob 0.0
97	 0.1 -0.2  0. 	 vmob 0.0
98	 0.1  -0.15  0.  	 vmob 0.0
99	 0.1 -0.1  0. 	 vmob 0.0
100	 0.1  -0.05  0.  	 vmob 0.0
101	0.1 0.  0. 	 vmob 0.0
102	0.1  0.05 0.  	 vmob 0.0
103	0.1 0.1 0. 	 vmob 0.0
104	0.1  0.15 0.  	 vmob 0.0
105	0.1 0.2 0. 	 vmob 0.0
106	0.1  0.25 0.  	 vmob 0.0
107	0.1 0.3 0. 	 vmob 0.0
108	0.1  0.35 0.  	 vmob 0.0
109	0.1 0.4 0. 	 vmob 0.0
110	0.1  0.45 0.  	 vmob 0.0
111	0.1 0.5 0. 	 vmob 0.0
112	0.1  0.55 0.  	 vmob 0.0
113	0.1 0.6 0. 	 vmob 0.0
114	0.1  0.65 0.  	 vmob 0.0
115	0.1 0.7 0. 	 vmob 0.0
116	0.1  0.75 0.  	 vmob 0.0
117	0.1 0.8 0. 	 vmob 0.0
118	0.1  0.85 0.  	 vmob 0.0
119	0.1 0.9 0. 	 vmob 0.0
120	0.1  0.95 0.  	 vmob 0.0
121	0.1 1.  0. 	 vmob 0.0
122	0.1  1.05 0.  	 vmob 0.0
123	0.1 1.1 0. 	 vmob 0.0
124	0.1  1.15 0.  	 vmob 0.0
125	0.1 1.2 0. 	 vmob 0.0
126	0.1  1.25 0.  	 vmob 0.0
127	0.1 1.3 0. 	 vmob 0.0
128	0.1  1.35 0.  	 vmob 0.0
129	0.1 1.4 0. 	 vmob 0.0
130	0.1  1.45 0.  	 vmob 0.0
131	0.1 1.5 0. 	 vmob 0.0
132	0.1  1.55 0.  	 vmob 0.0
133	0.1 1.6 0. 	 vmob 0.0
134	0.1  1.65 0.  	 vmob 0.0
135	-0.1        -1.65        0.07825326	 vmob 33008.62533239305
136	-0.1      -1.6       0.078006	 vmob 14981.073062072752
137	-0.1        -1.55        0.07759153	 vmob 19988.94438063969
138	-0.1        -1.5         0.07712592	 vmob 26473.583118118517
139	-0.1        -1.45        0.07721952	 vmob 23458.57281582617
140	-0.1        -1.4         0.07784619	 vmob 20539.185416454333
141	-0.1        -1.35        0.07733854	 vmob 21404.140985931197
142	-0.1        -1.3         0.07727316	 vmob 22351.499398043445
143	-0.1        -1.25        0.07788027	 vmob 19884.17208727118
144	-0.1       -1.2        0.0775939	 vmob 17548.98717937569
145	-0.1        -1.15        0.07773946	 vmob 17578.525402606432
146	-0.1        -1.1         0.07748354	 vmob 19515.78146376648
147	-0.1        -1.05        0.07745085	 vmob 21887.92949653822
148	-0.1        -1.          0.07732904	 vmob 23419.64405887959
149	-0.1        -0.95        0.07717621	 vmob 25789.43573641176
150	-0.1        -0.9         0.07734608	 vmob 28381.185138721874
151	-0.1        -0.85        0.07725807	 vmob 28381.185138721874
152	-0.1        -0.8         0.07757239	 vmob 18750.998595603876
153	-0.1        -0.75        0.07790151	 vmob 13986.848528860872
154	-0.1       -0.7        0.0779071	 vmob 16189.123138207648
155	-0.1        -0.65        0.07732401	 vmob 22257.622752099174
156	-0.1        -0.6         0.07721533	 vmob 25523.93196813918
157	-0.1        -0.55        0.07749528	 vmob 25523.93196813918
158	-0.1      -0.5       0.077236	 vmob 30677.92003803375
159	-0.1        -0.45        0.07697002	 vmob 37242.68299740009
160	-0.1        -0.4         0.07686665	 vmob 38953.04514580059
161	-0.1        -0.35        0.07731256	 vmob 44652.73533155684
162	-0.1        -0.3         0.07597652	 vmob 115239.17944653307
163	-0.1        -0.25        0.07412389	 vmob 513957.3390383398
164	-0.1        -0.2         0.06998655	 vmob 2503285.0462214164
165	-0.1        -0.15        0.05970265	 vmob 38418310.93766566
166	-0.1        -0.1         0.04501992	 vmob 147681728.08951047
167	-0.1        -0.05        0.03169054	 vmob 147681728.08951047
168	-0.1         0.          0.02677329	 vmob 147681728.08951047
169	-0.1         0.05        0.03446822	 vmob 147681728.08951047
170	-0.1         0.1         0.04641239	 vmob 147681728.08951047
171	-0.1         0.15        0.05792127	 vmob 42929416.39432435
172	-0.1         0.2         0.06951005	 vmob 3433457.9488709494
173	-0.1        0.25       0.0746029	 vmob 385111.998055883
174	-0.1         0.3         0.07632994	 vmob 86223.75965486761
175	-0.1         0.35        0.07684123	 vmob 39637.42919446211
176	-0.1         0.4         0.07730599	 vmob 32513.76664138692
177	-0.1         0.45        0.07705999	 vmob 32890.814881302394
178	-0.1        0.5        0.0769372	 vmob 33383.805565046714
179	-0.1         0.55        0.07702506	 vmob 33239.630136368156
180	-0.1         0.6         0.07748913	 vmob 30303.54709882015
181	-0.1         0.65        0.07773038	 vmob 27849.27914517166
182	-0.1         0.7         0.07718404	 vmob 27849.27914517166
183	-0.1         0.75        0.07725528	 vmob 27630.12035885386
184	-0.1         0.8         0.07739428	 vmob 27413.164124366773
185	-0.1         0.85        0.07682963	 vmob 27413.164124366773
186	-0.1         0.9         0.07684695	 vmob 32023.729167825797
187	-0.1         0.95        0.07742557	 vmob 36742.43306346927
188	-0.1       1.        0.076889	 vmob 36742.43306346927
189	-0.1         1.05        0.07730515	 vmob 28885.813796999035
190	-0.1         1.1         0.07773569	 vmob 23056.62802952142
191	-0.1         1.15        0.07758272	 vmob 21582.998689694377
192	-0.1         1.2         0.07747795	 vmob 21582.998689694377
193	-0.1         1.25        0.07748145	 vmob 22776.41538842337
194	-0.1         1.3         0.07738184	 vmob 22776.41538842337
195	-0.1         1.35        0.07757267	 vmob 23524.977094482616
196	-0.1         1.4         0.07770035	 vmob 23306.02161032565
197	-0.1         1.45        0.07752224	 vmob 21768.754328014405
198	-0.1         1.5         0.07760759	 vmob 21578.627179453968
199	-0.1         1.55        0.07737737	 vmob 20711.59034060433
200	-0.1         1.6         0.07777997	 vmob 20198.154547975944
201	-0.1         1.65        0.07783138	 vmob 43667.487751882036
202	 0.1        -1.65        0.07825326	 vmob 33008.62533239305
203	 0.1      -1.6       0.078006	 vmob 14981.073062072752
204	 0.1        -1.55        0.07759153	 vmob 19988.94438063969
205	 0.1        -1.5         0.07712592	 vmob 26473.583118118517
206	 0.1        -1.45        0.07721952	 vmob 23458.57281582617
207	 0.1        -1.4         0.07784619	 vmob 20539.185416454333
208	 0.1        -1.35        0.07733854	 vmob 21404.140985931197
209	 0.1        -1.3         0.07727316	 vmob 22351.499398043445
210	 0.1        -1.25        0.07788027	 vmob 19884.17208727118
211	 0.1       -1.2        0.0775939	 vmob 17548.98717937569
212	 0.1        -1.15        0.07773946	 vmob 17578.525402606432
213	 0.1        -1.1         0.07748354	 vmob 19515.78146376648
214	 0.1        -1.05        0.07745085	 vmob 21887.92949653822
215	 0.1        -1.          0.07732904	 vmob 23419.64405887959
216	 0.1        -0.95        0.07717621	 vmob 25789.43573641176
217	 0.1        -0.9         0.07734608	 vmob 28381.185138721874
218	 0.1        -0.85        0.07725807	 vmob 28381.185138721874
219	 0.1        -0.8         0.07757239	 vmob 18750.998595603876
220	 0.1        -0.75        0.07790151	 vmob 13986.848528860872
221	 0.1       -0.7        0.0779071	 vmob 16189.123138207648
222	 0.1        -0.65        0.07732401	 vmob 22257.622752099174
223	 0.1        -0.6         0.07721533	 vmob 25523.93196813918
224	 0.1        -0.55        0.07749528	 vmob 25523.93196813918
225	 0.1      -0.5       0.077236	 vmob 30677.92003803375
226	 0.1        -0.45        0.07697002	 vmob 37242.68299740009
227	 0.1        -0.4         0.07686665	 vmob 38953.04514580059
228	 0.1        -0.35        0.07731256	 vmob 44652.73533155684
229	 0.1        -0.3         0.07597652	 vmob 115239.17944653307
230	 0.1        -0.25        0.07412389	 vmob 513957.3390383398
231	 0.1        -0.2         0.06998655	 vmob 2503285.0462214164
232	 0.1        -0.15        0.05970265	 vmob 38418310.93766566
233	 0.1        -0.1         0.04501992	 vmob 147681728.08951047
234	 0.1        -0.05        0.03169054	 vmob 147681728.08951047
235	0.1        0.         0.02677329	 vmob 147681728.08951047
236	0.1        0.05       0.03446822	 vmob 147681728.08951047
237	0.1        0.1        0.04641239	 vmob 147681728.08951047
238	0.1        0.15       0.05792127	 vmob 42929416.39432435
239	0.1        0.2        0.06951005	 vmob 3433457.9488709494
240	0.1       0.25      0.0746029	 vmob 385111.998055883
241	0.1        0.3        0.07632994	 vmob 86223.75965486761
242	0.1        0.35       0.07684123	 vmob 39637.42919446211
243	0.1        0.4        0.07730599	 vmob 32513.76664138692
244	0.1        0.45       0.07705999	 vmob 32890.814881302394
245	0.1       0.5       0.0769372	 vmob 33383.805565046714
246	0.1        0.55       0.07702506	 vmob 33239.630136368156
247	0.1        0.6        0.07748913	 vmob 30303.54709882015
248	0.1        0.65       0.07773038	 vmob 27849.27914517166
249	0.1        0.7        0.07718404	 vmob 27849.27914517166
250	0.1        0.75       0.07725528	 vmob 27630.12035885386
251	0.1        0.8        0.07739428	 vmob 27413.164124366773
252	0.1        0.85       0.07682963	 vmob 27413.164124366773
253	0.1        0.9        0.07684695	 vmob 32023.729167825797
254	0.1        0.95       0.07742557	 vmob 36742.43306346927
255	0.1      1.       0.076889	 vmob 36742.43306346927
256	0.1        1.05       0.07730515	 vmob 28885.813796999035
257	0.1        1.1        0.07773569	 vmob 23056.62802952142
258	0.1        1.15       0.07758272	 vmob 21582.998689694377
259	0.1        1.2        0.07747795	 vmob 21582.998689694377
260	0.1        1.25       0.07748145	 vmob 22776.41538842337
261	0.1        1.3        0.07738184	 vmob 22776.41538842337
262	0.1        1.35       0.07757267	 vmob 23524.977094482616
263	0.1        1.4        0.07770035	 vmob 23306.02161032565
264	0.1        1.45       0.07752224	 vmob 21768.754328014405
265	0.1        1.5        0.07760759	 vmob 21578.627179453968
266	0.1        1.55       0.07737737	 vmob 20711.59034060433
267	0.1        1.6        0.07777997	 vmob 20198.154547975944
268	0.1        1.65       0.07783138	 vmob 43667.487751882036
/*--------------------VERTICES END--------------------*/

/*--------------------EDGES START--------------------*/
edges
1	 1 68 color red
2	 2 69 color red
3	 3 70 color red
4	 4 71 color red
5	 5 72 color red
6	 6 73 color red
7	 7 74 color red
8	 8 75 color red
9	 9 76 color red
10	10 77 color red
11	11 78 color red
12	12 79 color red
13	13 80 color red
14	14 81 color red
15	15 82 color red
16	16 83 color red
17	17 84 color red
18	18 85 color red
19	19 86 color red
20	20 87 color red
21	21 88 color red
22	22 89 color red
23	23 90 color red
24	24 91 color red
25	25 92 color red
26	26 93 color red
27	27 94 color red
28	28 95 color red
29	29 96 color red
30	30 97 color red
31	31 98 color red
32	32 99 color red
33	 33 100 color red
34	 34 101 color red
35	 35 102 color red
36	 36 103 color red
37	 37 104 color red
38	 38 105 color red
39	 39 106 color red
40	 40 107 color red
41	 41 108 color red
42	 42 109 color red
43	 43 110 color red
44	 44 111 color red
45	 45 112 color red
46	 46 113 color red
47	 47 114 color red
48	 48 115 color red
49	 49 116 color red
50	 50 117 color red
51	 51 118 color red
52	 52 119 color red
53	 53 120 color red
54	 54 121 color red
55	 55 122 color red
56	 56 123 color red
57	 57 124 color red
58	 58 125 color red
59	 59 126 color red
60	 60 127 color red
61	 61 128 color red
62	 62 129 color red
63	 63 130 color red
64	 64 131 color red
65	 65 132 color red
66	 66 133 color red
67	 67 134 color red
68	1 2 color red
69	2 3 color red
70	3 4 color red
71	4 5 color red
72	5 6 color red
73	6 7 color red
74	7 8 color red
75	8 9 color red
76	 9 10 color red
77	10 11 color red
78	11 12 color red
79	12 13 color red
80	13 14 color red
81	14 15 color red
82	15 16 color red
83	16 17 color red
84	17 18 color red
85	18 19 color red
86	19 20 color red
87	20 21 color red
88	21 22 color red
89	22 23 color red
90	23 24 color red
91	24 25 color red
92	25 26 color red
93	26 27 color red
94	27 28 color red
95	28 29 color red
96	29 30 color red
97	30 31 color red
98	31 32 color red
99	32 33 color red
100	33 34 color red
101	34 35 color red
102	35 36 color red
103	36 37 color red
104	37 38 color red
105	38 39 color red
106	39 40 color red
107	40 41 color red
108	41 42 color red
109	42 43 color red
110	43 44 color red
111	44 45 color red
112	45 46 color red
113	46 47 color red
114	47 48 color red
115	48 49 color red
116	49 50 color red
117	50 51 color red
118	51 52 color red
119	52 53 color red
120	53 54 color red
121	54 55 color red
122	55 56 color red
123	56 57 color red
124	57 58 color red
125	58 59 color red
126	59 60 color red
127	60 61 color red
128	61 62 color red
129	62 63 color red
130	63 64 color red
131	64 65 color red
132	65 66 color red
133	66 67 color red
134	68 69 color red
135	69 70 color red
136	70 71 color red
137	71 72 color red
138	72 73 color red
139	73 74 color red
140	74 75 color red
141	75 76 color red
142	76 77 color red
143	77 78 color red
144	78 79 color red
145	79 80 color red
146	80 81 color red
147	81 82 color red
148	82 83 color red
149	83 84 color red
150	84 85 color red
151	85 86 color red
152	86 87 color red
153	87 88 color red
154	88 89 color red
155	89 90 color red
156	90 91 color red
157	91 92 color red
158	92 93 color red
159	93 94 color red
160	94 95 color red
161	95 96 color red
162	96 97 color red
163	97 98 color red
164	98 99 color red
165	 99 100 color red
166	100 101 color red
167	101 102 color red
168	102 103 color red
169	103 104 color red
170	104 105 color red
171	105 106 color red
172	106 107 color red
173	107 108 color red
174	108 109 color red
175	109 110 color red
176	110 111 color red
177	111 112 color red
178	112 113 color red
179	113 114 color red
180	114 115 color red
181	115 116 color red
182	116 117 color red
183	117 118 color red
184	118 119 color red
185	119 120 color red
186	120 121 color red
187	121 122 color red
188	122 123 color red
189	123 124 color red
190	124 125 color red
191	125 126 color red
192	126 127 color red
193	127 128 color red
194	128 129 color red
195	129 130 color red
196	130 131 color red
197	131 132 color red
198	132 133 color red
199	133 134 color red
200	135 202 color red
201	136 203 color red
202	137 204 color red
203	138 205 color red
204	139 206 color red
205	140 207 color red
206	141 208 color red
207	142 209 color red
208	143 210 color red
209	144 211 color red
210	145 212 color red
211	146 213 color red
212	147 214 color red
213	148 215 color red
214	149 216 color red
215	150 217 color red
216	151 218 color red
217	152 219 color red
218	153 220 color red
219	154 221 color red
220	155 222 color red
221	156 223 color red
222	157 224 color red
223	158 225 color red
224	159 226 color red
225	160 227 color red
226	161 228 color red
227	162 229 color red
228	163 230 color red
229	164 231 color red
230	165 232 color red
231	166 233 color red
232	167 234 color red
233	168 235 color red
234	169 236 color red
235	170 237 color red
236	171 238 color red
237	172 239 color red
238	173 240 color red
239	174 241 color red
240	175 242 color red
241	176 243 color red
242	177 244 color red
243	178 245 color red
244	179 246 color red
245	180 247 color red
246	181 248 color red
247	182 249 color red
248	183 250 color red
249	184 251 color red
250	185 252 color red
251	186 253 color red
252	187 254 color red
253	188 255 color red
254	189 256 color red
255	190 257 color red
256	191 258 color red
257	192 259 color red
258	193 260 color red
259	194 261 color red
260	195 262 color red
261	196 263 color red
262	197 264 color red
263	198 265 color red
264	199 266 color red
265	200 267 color red
266	201 268 color red
267	135 136 color red
268	136 137 color red
269	137 138 color red
270	138 139 color red
271	139 140 color red
272	140 141 color red
273	141 142 color red
274	142 143 color red
275	143 144 color red
276	144 145 color red
277	145 146 color red
278	146 147 color red
279	147 148 color red
280	148 149 color red
281	149 150 color red
282	150 151 color red
283	151 152 color red
284	152 153 color red
285	153 154 color red
286	154 155 color red
287	155 156 color red
288	156 157 color red
289	157 158 color red
290	158 159 color red
291	159 160 color red
292	160 161 color red
293	161 162 color red
294	162 163 color red
295	163 164 color red
296	164 165 color red
297	165 166 color red
298	166 167 color red
299	167 168 color red
300	168 169 color red
301	169 170 color red
302	170 171 color red
303	171 172 color red
304	172 173 color red
305	173 174 color red
306	174 175 color red
307	175 176 color red
308	176 177 color red
309	177 178 color red
310	178 179 color red
311	179 180 color red
312	180 181 color red
313	181 182 color red
314	182 183 color red
315	183 184 color red
316	184 185 color red
317	185 186 color red
318	186 187 color red
319	187 188 color red
320	188 189 color red
321	189 190 color red
322	190 191 color red
323	191 192 color red
324	192 193 color red
325	193 194 color red
326	194 195 color red
327	195 196 color red
328	196 197 color red
329	197 198 color red
330	198 199 color red
331	199 200 color red
332	200 201 color red
333	202 203 color red
334	203 204 color red
335	204 205 color red
336	205 206 color red
337	206 207 color red
338	207 208 color red
339	208 209 color red
340	209 210 color red
341	210 211 color red
342	211 212 color red
343	212 213 color red
344	213 214 color red
345	214 215 color red
346	215 216 color red
347	216 217 color red
348	217 218 color red
349	218 219 color red
350	219 220 color red
351	220 221 color red
352	221 222 color red
353	222 223 color red
354	223 224 color red
355	224 225 color red
356	225 226 color red
357	226 227 color red
358	227 228 color red
359	228 229 color red
360	229 230 color red
361	230 231 color red
362	231 232 color red
363	232 233 color red
364	233 234 color red
365	234 235 color red
366	235 236 color red
367	236 237 color red
368	237 238 color red
369	238 239 color red
370	239 240 color red
371	240 241 color red
372	241 242 color red
373	242 243 color red
374	243 244 color red
375	244 245 color red
376	245 246 color red
377	246 247 color red
378	247 248 color red
379	248 249 color red
380	249 250 color red
381	250 251 color red
382	251 252 color red
383	252 253 color red
384	253 254 color red
385	254 255 color red
386	255 256 color red
387	256 257 color red
388	257 258 color red
389	258 259 color red
390	259 260 color red
391	260 261 color red
392	261 262 color red
393	262 263 color red
394	263 264 color red
395	264 265 color red
396	265 266 color red
397	266 267 color red
398	267 268 color red
399	  1 135 color red
400	  2 136 color red
401	  3 137 color red
402	  4 138 color red
403	  5 139 color red
404	  6 140 color red
405	  7 141 color red
406	  8 142 color red
407	  9 143 color red
408	 10 144 color red
409	 11 145 color red
410	 12 146 color red
411	 13 147 color red
412	 14 148 color red
413	 15 149 color red
414	 16 150 color red
415	 17 151 color red
416	 18 152 color red
417	 19 153 color red
418	 20 154 color red
419	 21 155 color red
420	 22 156 color red
421	 23 157 color red
422	 24 158 color red
423	 25 159 color red
424	 26 160 color red
425	 27 161 color red
426	 28 162 color red
427	 29 163 color red
428	 30 164 color red
429	 31 165 color red
430	 32 166 color red
431	 33 167 color red
432	 34 168 color red
433	 35 169 color red
434	 36 170 color red
435	 37 171 color red
436	 38 172 color red
437	 39 173 color red
438	 40 174 color red
439	 41 175 color red
440	 42 176 color red
441	 43 177 color red
442	 44 178 color red
443	 45 179 color red
444	 46 180 color red
445	 47 181 color red
446	 48 182 color red
447	 49 183 color red
448	 50 184 color red
449	 51 185 color red
450	 52 186 color red
451	 53 187 color red
452	 54 188 color red
453	 55 189 color red
454	 56 190 color red
455	 57 191 color red
456	 58 192 color red
457	 59 193 color red
458	 60 194 color red
459	 61 195 color red
460	 62 196 color red
461	 63 197 color red
462	 64 198 color red
463	 65 199 color red
464	 66 200 color red
465	 67 201 color red
466	 68 202 color red
467	 69 203 color red
468	 70 204 color red
469	 71 205 color red
470	 72 206 color red
471	 73 207 color red
472	 74 208 color red
473	 75 209 color red
474	 76 210 color red
475	 77 211 color red
476	 78 212 color red
477	 79 213 color red
478	 80 214 color red
479	 81 215 color red
480	 82 216 color red
481	 83 217 color red
482	 84 218 color red
483	 85 219 color red
484	 86 220 color red
485	 87 221 color red
486	 88 222 color red
487	 89 223 color red
488	 90 224 color red
489	 91 225 color red
490	 92 226 color red
491	 93 227 color red
492	 94 228 color red
493	 95 229 color red
494	 96 230 color red
495	 97 231 color red
496	 98 232 color red
497	 99 233 color red
498	100 234 color red
499	101 235 color red
500	102 236 color red
501	103 237 color red
502	104 238 color red
503	105 239 color red
504	106 240 color red
505	107 241 color red
506	108 242 color red
507	109 243 color red
508	110 244 color red
509	111 245 color red
510	112 246 color red
511	113 247 color red
512	114 248 color red
513	115 249 color red
514	116 250 color red
515	117 251 color red
516	118 252 color red
517	119 253 color red
518	120 254 color red
519	121 255 color red
520	122 256 color red
521	123 257 color red
522	124 258 color red
523	125 259 color red
524	126 260 color red
525	127 261 color red
526	128 262 color red
527	129 263 color red
528	130 264 color red
529	131 265 color red
530	132 266 color red
531	133 267 color red
532	134 268 color red
/*--------------------EDGES END--------------------*/

/*--------------------FACES START--------------------*/
faces
1	  68    2 -134   -1
2	  69    3 -135   -2
3	  70    4 -136   -3
4	  71    5 -137   -4
5	  72    6 -138   -5
6	  73    7 -139   -6
7	  74    8 -140   -7
8	  75    9 -141   -8
9	  76   10 -142   -9
10	  77   11 -143  -10
11	  78   12 -144  -11
12	  79   13 -145  -12
13	  80   14 -146  -13
14	  81   15 -147  -14
15	  82   16 -148  -15
16	  83   17 -149  -16
17	  84   18 -150  -17
18	  85   19 -151  -18
19	  86   20 -152  -19
20	  87   21 -153  -20
21	  88   22 -154  -21
22	  89   23 -155  -22
23	  90   24 -156  -23
24	  91   25 -157  -24
25	  92   26 -158  -25
26	  93   27 -159  -26
27	  94   28 -160  -27
28	  95   29 -161  -28
29	  96   30 -162  -29
30	  97   31 -163  -30
31	  98   32 -164  -31
32	  99   33 -165  -32
33	 100   34 -166  -33
34	 101   35 -167  -34
35	 102   36 -168  -35
36	 103   37 -169  -36
37	 104   38 -170  -37
38	 105   39 -171  -38
39	 106   40 -172  -39
40	 107   41 -173  -40
41	 108   42 -174  -41
42	 109   43 -175  -42
43	 110   44 -176  -43
44	 111   45 -177  -44
45	 112   46 -178  -45
46	 113   47 -179  -46
47	 114   48 -180  -47
48	 115   49 -181  -48
49	 116   50 -182  -49
50	 117   51 -183  -50
51	 118   52 -184  -51
52	 119   53 -185  -52
53	 120   54 -186  -53
54	 121   55 -187  -54
55	 122   56 -188  -55
56	 123   57 -189  -56
57	 124   58 -190  -57
58	 125   59 -191  -58
59	 126   60 -192  -59
60	 127   61 -193  -60
61	 128   62 -194  -61
62	 129   63 -195  -62
63	 130   64 -196  -63
64	 131   65 -197  -64
65	 132   66 -198  -65
66	 133   67 -199  -66
67	 200  333 -201 -267
68	 201  334 -202 -268
69	 202  335 -203 -269
70	 203  336 -204 -270
71	 204  337 -205 -271
72	 205  338 -206 -272
73	 206  339 -207 -273
74	 207  340 -208 -274
75	 208  341 -209 -275
76	 209  342 -210 -276
77	 210  343 -211 -277
78	 211  344 -212 -278
79	 212  345 -213 -279
80	 213  346 -214 -280
81	 214  347 -215 -281
82	 215  348 -216 -282
83	 216  349 -217 -283
84	 217  350 -218 -284
85	 218  351 -219 -285
86	 219  352 -220 -286
87	 220  353 -221 -287
88	 221  354 -222 -288
89	 222  355 -223 -289
90	 223  356 -224 -290
91	 224  357 -225 -291
92	 225  358 -226 -292
93	 226  359 -227 -293
94	 227  360 -228 -294
95	 228  361 -229 -295
96	 229  362 -230 -296
97	 230  363 -231 -297
98	 231  364 -232 -298
99	 232  365 -233 -299
100	 233  366 -234 -300
101	 234  367 -235 -301
102	 235  368 -236 -302
103	 236  369 -237 -303
104	 237  370 -238 -304
105	 238  371 -239 -305
106	 239  372 -240 -306
107	 240  373 -241 -307
108	 241  374 -242 -308
109	 242  375 -243 -309
110	 243  376 -244 -310
111	 244  377 -245 -311
112	 245  378 -246 -312
113	 246  379 -247 -313
114	 247  380 -248 -314
115	 248  381 -249 -315
116	 249  382 -250 -316
117	 250  383 -251 -317
118	 251  384 -252 -318
119	 252  385 -253 -319
120	 253  386 -254 -320
121	 254  387 -255 -321
122	 255  388 -256 -322
123	 256  389 -257 -323
124	 257  390 -258 -324
125	 258  391 -259 -325
126	 259  392 -260 -326
127	 260  393 -261 -327
128	 261  394 -262 -328
129	 262  395 -263 -329
130	 263  396 -264 -330
131	 264  397 -265 -331
132	 265  398 -266 -332
133	   1  466 -200 -399
134	 465  266 -532  -67
135	 399  267 -400  -68
136	 400  268 -401  -69
137	 401  269 -402  -70
138	 402  270 -403  -71
139	 403  271 -404  -72
140	 404  272 -405  -73
141	 405  273 -406  -74
142	 406  274 -407  -75
143	 407  275 -408  -76
144	 408  276 -409  -77
145	 409  277 -410  -78
146	 410  278 -411  -79
147	 411  279 -412  -80
148	 412  280 -413  -81
149	 413  281 -414  -82
150	 414  282 -415  -83
151	 415  283 -416  -84
152	 416  284 -417  -85
153	 417  285 -418  -86
154	 418  286 -419  -87
155	 419  287 -420  -88
156	 420  288 -421  -89
157	 421  289 -422  -90
158	 422  290 -423  -91
159	 423  291 -424  -92
160	 424  292 -425  -93
161	 425  293 -426  -94
162	 426  294 -427  -95
163	 427  295 -428  -96
164	 428  296 -429  -97
165	 429  297 -430  -98
166	 430  298 -431  -99
167	 431  299 -432 -100
168	 432  300 -433 -101
169	 433  301 -434 -102
170	 434  302 -435 -103
171	 435  303 -436 -104
172	 436  304 -437 -105
173	 437  305 -438 -106
174	 438  306 -439 -107
175	 439  307 -440 -108
176	 440  308 -441 -109
177	 441  309 -442 -110
178	 442  310 -443 -111
179	 443  311 -444 -112
180	 444  312 -445 -113
181	 445  313 -446 -114
182	 446  314 -447 -115
183	 447  315 -448 -116
184	 448  316 -449 -117
185	 449  317 -450 -118
186	 450  318 -451 -119
187	 451  319 -452 -120
188	 452  320 -453 -121
189	 453  321 -454 -122
190	 454  322 -455 -123
191	 455  323 -456 -124
192	 456  324 -457 -125
193	 457  325 -458 -126
194	 458  326 -459 -127
195	 459  327 -460 -128
196	 460  328 -461 -129
197	 461  329 -462 -130
198	 462  330 -463 -131
199	 463  331 -464 -132
200	 464  332 -465 -133
201	 134  467 -333 -466
202	 135  468 -334 -467
203	 136  469 -335 -468
204	 137  470 -336 -469
205	 138  471 -337 -470
206	 139  472 -338 -471
207	 140  473 -339 -472
208	 141  474 -340 -473
209	 142  475 -341 -474
210	 143  476 -342 -475
211	 144  477 -343 -476
212	 145  478 -344 -477
213	 146  479 -345 -478
214	 147  480 -346 -479
215	 148  481 -347 -480
216	 149  482 -348 -481
217	 150  483 -349 -482
218	 151  484 -350 -483
219	 152  485 -351 -484
220	 153  486 -352 -485
221	 154  487 -353 -486
222	 155  488 -354 -487
223	 156  489 -355 -488
224	 157  490 -356 -489
225	 158  491 -357 -490
226	 159  492 -358 -491
227	 160  493 -359 -492
228	 161  494 -360 -493
229	 162  495 -361 -494
230	 163  496 -362 -495
231	 164  497 -363 -496
232	 165  498 -364 -497
233	 166  499 -365 -498
234	 167  500 -366 -499
235	 168  501 -367 -500
236	 169  502 -368 -501
237	 170  503 -369 -502
238	 171  504 -370 -503
239	 172  505 -371 -504
240	 173  506 -372 -505
241	 174  507 -373 -506
242	 175  508 -374 -507
243	 176  509 -375 -508
244	 177  510 -376 -509
245	 178  511 -377 -510
246	 179  512 -378 -511
247	 180  513 -379 -512
248	 181  514 -380 -513
249	 182  515 -381 -514
250	 183  516 -382 -515
251	 184  517 -383 -516
252	 185  518 -384 -517
253	 186  519 -385 -518
254	 187  520 -386 -519
255	 188  521 -387 -520
256	 189  522 -388 -521
257	 190  523 -389 -522
258	 191  524 -390 -523
259	 192  525 -391 -524
260	 193  526 -392 -525
261	 194  527 -393 -526
262	 195  528 -394 -527
263	 196  529 -395 -528
264	 197  530 -396 -529
265	 198  531 -397 -530
266	 199  532 -398 -531
/*--------------------FACES END--------------------*/

/*--------------------BODIES START--------------------*/
bodies
1	1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 	volume 0.04844758305303373

/*--------------------BODIES END--------------------*/

/*--------------------SIMULATION START--------------------*/
read

set_v_constraint_1 := {
	foreach vertex vv do {if vv.z == 0 then set vv constraint 1}
	}

set_v_constraints_11_33 := {
	foreach vertex vv do {
		if vv.x = -lx/2 then set vv constraint 11;
		if vv.x = lx/2 then set vv constraint 33;
		}
	}

set_v_constraints_22_44 := {
	foreach vertex vv do {
		if vv.y = -ly/2 then set vv constraint 22;
		if vv.y = ly/2 then set vv constraint 44;
		}
	}

set_e_constraint_1 := {
	foreach edge ee do {
		cnt := 0;
		foreach ee.vertices vv do {
			if vv.z == 0 then cnt := cnt + 1
			};
		if cnt == 2 then set ee constraint 1
		};
	}

set_e_constraint_11_33 := {
	foreach edge ee do {
		cnt := 0;
		foreach ee.vertices vv do {
			if vv.x == -lx/2 then cnt := cnt - 1;
			if vv.x == lx/2 then cnt := cnt + 1
			};
		if cnt == -2 then set ee constraint 11;
		if cnt == 2 then set ee constraint 33
		};
	}

set_e_constraint_22_44 := {
	foreach edge ee do {
		cnt := 0;
		foreach ee.vertices vv do {
			if vv.y == -ly/2 then cnt := cnt - 1;
			if vv.y == ly/2 then cnt := cnt + 1
			};
		if cnt == -2 then set ee constraint 22;
		if cnt == 2 then set ee constraint 44
		};
	}

set_f_tension_resist := {foreach facet ff do {set ff tension TENS_r}}

set_f_tension_surface := {
	foreach facet ff do {
		cnt := 0;
		foreach ff.vertices vv do {
			if vv.z == 0 then cnt := cnt + 1
			};
		if cnt == 3 then set ff tension TENS_s
		}
	}

set_f_tension_mirror := {
	foreach facet ff do {
		cnt := 0;
		foreach ff.vertices vv do {
			if vv.x == -lx/2 then cnt := cnt - 1;
			if vv.x == lx/2 then cnt := cnt + 1
			};
		if abs(cnt) == 3 then set ff tension TENS_m;
		};
	foreach facet ff do {
		cnt := 0;
		foreach ff.vertices vv do {
			if vv.y == -ly/2 then cnt := cnt - 1;
			if vv.y == ly/2 then cnt := cnt + 1
			};
		if abs(cnt) == 3 then set ff tension TENS_m;
		}
	}

color_TENS_m_faces := {set facet color brown where tension == TENS_m}

color_TENS_s_faces := {set facet color cyan where tension == TENS_s}

color_TENS_r_faces := {set facet color yellow where tension == TENS_r}

def_vmob := {
	foreach vertex vv do {
		if vv vmob == 0 then {
			cnt := 0;
			mobsum := 0;
			foreach vv.edge ee do {
				foreach ee vertex do {
					if vmob > 0 then {
						mobsum := mobsum + vmob;
						cnt := cnt + 1;
						};
					};
				};
			set vv vmob mobsum/cnt;
			};
		};
	foreach vertex vv do {
		if vv vmob == 0 then print "Zero mobility!";
		}
	}

prepare_surface := {
	set_v_constraint_1;
	set_v_constraints_11_33;
	set_v_constraints_22_44;
	set_e_constraint_1;
	set_e_constraint_11_33;
	set_e_constraint_22_44;
	set_f_tension_resist;
	set_f_tension_surface;
	set_f_tension_mirror;
	color_TENS_m_faces;
	color_TENS_s_faces;
	color_TENS_r_faces;
	area_normalization;
	def_vmob;
	}

loopit := {g10; w 0.001; w 0.001; V}

save := {
	foreach vertex do {
		if x < 1 then if x > -1 then printf "%f %f %f\n", x, y, z >> "/Users/fedor/PycharmProjects/MC_simulation/notebooks/SE/SIM/vlist_SIM.txt";
		}
	}

ebash := {
	prepare_surface;
	//m 0.05;
	m 0.1;
	printf "%f %f %f\n", total_time, -100., -100. >>> "/Users/fedor/PycharmProjects/MC_simulation/notebooks/SE/SIM/vlist_SIM.txt";
	save;
	printf "%f %f %f\n", total_time, -100., -100. >> "/Users/fedor/PycharmProjects/MC_simulation/notebooks/SE/SIM/vlist_SIM.txt";
	//loopit 20;
	loopit 10;
	save;
	printf "%f %f %f\n", total_time, -100., -100. >> "/Users/fedor/PycharmProjects/MC_simulation/notebooks/SE/SIM/vlist_SIM.txt";
	}
